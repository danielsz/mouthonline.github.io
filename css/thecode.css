    .thecode-container {
      container-type: inline-size;
      width: 100%;
      max-width: 800px;
    }

    .card {
      background: var(--surface);
      padding: var(--space-s-l);
      border-radius: 24px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.05);
      min-height: 320px;
      position: relative;
    }

    /* 3. MULTILINGUAL ENGINE (Fail-Forward) */
    
    /* Hide ALL by default */
    .content-group[lang] { 
      display: none; 
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    /* Reveal English by default if NO hash is present */
    body:not(:has(:target)) .content-group[lang="he"],
    body:has(#he:target) .content-group[lang="he"] {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }

    /* If a target exists, show it and ensure English hides */
    body:has(#fr:target) .content-group[lang="fr"],
    body:has(#en:target) .content-group[lang="en"],
    body:has(#de:target) .content-group[lang="de"],
    body:has(#he:target) .content-group[lang="he"],
    body:has(#zh:target) .content-group[lang="zh"] {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }

    body:has(:target):not(:has(#he:target)) .content-group[lang="he"] {
      display: none;
    }

    /* 4. NAVIGATION SWITCHER */
    .lang-nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 0.5rem;
      background: white;
      padding: 0.5rem;
      border-radius: 50px;
      margin-bottom: var(--space-m);
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
      position: sticky;
      top: 1rem;
      z-index: 100;

      a {
        text-decoration: none;
        color: #64748b;
        padding: 0.5rem 1rem;
        border-radius: 25px;
        font-weight: 600;
        font-size: 0.9rem;
        transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);

        &:hover { background: #f1f5f9; }
      }
    }

    /* Active Nav States */
    body:not(:has(:target)) a[href="#he"],
    body:has(#en:target) a[href="#en"],
    body:has(#fr:target) a[href="#fr"],
    body:has(#de:target) a[href="#de"],
    body:has(#he:target) a[href="#he"],
    body:has(#zh:target) a[href="#zh"] {
      background: var(--primary);
      color: white;
    }

    #en,#de,#zh,#fr,#he {
        scroll-margin-top: 0px;
    }
    /* 5. TYPOGRAPHY & RTL/CJK SPECIALS */
    h2 { font-size: var(--step-2); margin: 0 0 var(--space-s-l) 0; line-height: 1.1; }
    p { font-size: var(--step-0); line-height: 1.75; margin-bottom: 1.25rem; }

    [lang="he"] { direction: rtl; text-align: right; }
    [lang="zh"] { line-height: 1.9; font-family: "PingFang SC", "Microsoft YaHei", sans-serif; }
    [lang="de"] { hyphens: auto; } /* Handle long German words */

